!function(e){var t={},n={1:0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){if(0!==n[t]){var r=require("./"+t+".app.js"),o=r.modules,i=r.ids;for(var a in o)e[a]=o[a];for(var s=0;s<i.length;s++)n[i[s]]=0}return Promise.all([])},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){process.nextTick((function(){throw e}))},r(r.s="CQCt")}({"+o4U":function(e,t){e.exports=require("react-hot-loader/root")},"20ZA":function(e){e.exports=JSON.parse('{"chunk-article-list.js":"/js/chunk-article-list.6acd9767.js","libs.js":"/js/libs.8c85d9e6.js","main.js":"/js/main.8b9cbd53.js","js/3.9b00b8b4.js":"/js/3.9b00b8b4.js","img/c.png":"/img/c.034bc0e6.png"}')},"4Hsq":function(e,t){e.exports=require("http-errors")},"5lGI":function(e,t){e.exports=require("isomorphic-style-loader/StyleContext")},"6ndv":function(e,t){e.exports=require("graceful-fs")},"7ITC":function(e,t){e.exports=require("react-dom/server")},CQCt:function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),i=n("7ITC"),a=n("MGin"),s=(n("iURj"),n("+o4U")),c=n("oncg");class u extends o.a.Component{constructor(e){super(e)}render(){return o.a.createElement("div",null,o.a.createElement(c.NavLink,{to:"/index",style:{marginLeft:"10px"}},"首页"),o.a.createElement(c.NavLink,{style:{marginLeft:"10px"},onClick:this.click,to:"/article"},"列表页"),o.a.createElement(c.NavLink,{style:{marginLeft:"10px"},onClick:this.click,to:"/search"},"搜索页"),this.props.children)}}var l=Object(s.hot)(u),p=n("zIXN"),f=n("G5Od"),d=n.n(f),h=n("lUbX");class m extends o.a.Component{constructor(e){var t,n,r;super(e),r=e=>{console.log(e.target.value),this.setState({text:e.target.value})},(n="textChangeHandler")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.state={text:"abc"}}static async getInitialProps(){return{page:{tdk:{title:"搜索页",keywords:"关键词",description:"描述"}}}}componentDidMount(){}render(){return o.a.createElement("div",{className:"search-page"},o.a.createElement(p.Helmet,null,o.a.createElement("title",null,"搜索页"),o.a.createElement("meta",{name:"description",content:"前端技术江湖,终身学习"}),o.a.createElement("meta",{name:"keywords",content:"前端技术江湖"})),o.a.createElement("h2",null,"搜索页面"),o.a.createElement("input",{type:"text",value:this.state.text,onChange:this.textChangeHandler}))}}var y=n.n(h)()(d.a)(m);class g extends o.a.Component{constructor(e){super(e),this.state={mod:null}}componentDidMount(){this.state.mod||this.load(this.props)}load(e){this.setState({mod:null}),e.load().then(e=>{this.setState({mod:e.default?e.default:e})})}render(){return this.state.mod?this.props.children(this.state.mod):o.a.createElement(v,null)}}function v(){return o.a.createElement("div",null,"loading.....")}var b={wdsPort:9002,nodeServerPort:9001,asyncComponentKey:"__IS_ASYNC_COMP_FLAG__"};var x=function(e){function t(){return o.a.createElement(g,{load:e},e=>o.a.createElement(e,null))}return t[b.asyncComponentKey]=!0,t},w=[{path:["/","/index"],component:x(()=>n.e(2).then(n.bind(null,"RKbY"))),exact:!0},{path:"/article",component:x(()=>n.e(0).then(n.bind(null,"ndRb"))),exact:!0},{path:"/search",component:y,exact:!0}],j=n("UJWO");class _ extends o.a.Component{constructor(e,t){var n,r,o;super(e),o=e=>{},(r="changeContext")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}componentDidMount(){}render(){return o.a.createElement(j.a.Provider,{value:this.props.initialData||{}},this.props.children)}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(){return o.a.createElement("div",null,"404拉 ")}var k=function({routeList:e}){return o.a.createElement(l,null,o.a.createElement(c.Switch,null,e.map(e=>o.a.createElement(c.Route,C({key:e.path},e))),o.a.createElement(c.Route,{to:"*",component:E})))},$=n("5lGI"),S=n.n($);const O=n("iiSy"),q=e=>(console.log("component.name",e[b.asyncComponentKey]),e[b.asyncComponentKey]);var P=n("vAnj"),A=n.n(P),T=n("cs0u"),L=n.n(T);n("oyvS");global.isProd=function(){return!0};const N=new A.a;N.use(L()("./dist/static")),N.use(async(e,t)=>{const n=e.request.path;if(/.(ico|jpg|png|gif)/.test(n))return t();console.log("ctx.request.path",e.request.path);const r=O(),s=await async function(e){let t=e.length,n=0;const r=[];for(;n<t;n++){let t=e[n];q(t.component)?r.push({...t,component:(await t.component().props.load()).default}):r.push({...t})}return r}(w);let c=await((e,t)=>{let n,{path:r}=e;for(var o of t)if(Object(a.matchPath)(r,o)){n=o.component;break}return n})({path:n},s);c||(c=function(){return o.a.createElement("div",null,"404 page")});let u=c.getInitialProps,l=null;u&&(l=await u());let{page:f}=l||{},d={title:"默认标题",keywords:"默认关键词",description:"默认描述"};f&&f.tdk&&(d=f.tdk);const h=new Set,m=Object(i.renderToString)(o.a.createElement(_,{initialData:l||{}},o.a.createElement(S.a.Provider,{value:{insertCss:(...e)=>e.forEach(e=>h.add(e._getContent()))}},o.a.createElement(a.StaticRouter,{location:n,context:{}},o.a.createElement(k,{routeList:s}))))),y=p.Helmet.renderStatic(),g=[];[...h].forEach(e=>{let[t,n]=e[0];g.push(`<style id="s${t}-0">${n}</style>`)}),e.body=`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    ${y.title.toString()}\n    ${y.meta.toString()}\n    ${g.join("")}\n</head>\n<body>\n    <div id="root">\n       ${m}\n    </div>\n    <textarea id="ssrTextInitData" style="display:none;">\n    ${JSON.stringify(l)}\n    </textarea>\n</body>\n</html>\n</body>\n ${r.js.join("")}\n`,await t()});const I=process.env.PROT||b.nodeServerPort;N.listen(I),console.log("node server is start ",I,"env is ",global.isProd()?"prod":"dev")},G5Od:function(e,t,n){var r=n("wLE8"),o=n("Q8e5"),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},INAJ:function(e,t,n){const r=n("i4Cb")("koa-send"),o=n("kEd6"),i=n("4Hsq"),a=n("Qs3B"),s=n("pnsS"),{normalize:c,basename:u,extname:l,resolve:p,parse:f,sep:d}=n("oyvS");e.exports=async function(e,t,n={}){a(e,"koa context required"),a(t,"pathname required"),r('send "%s" %j',t,n);const h=n.root?c(p(n.root)):"",m="/"===t[t.length-1];t=t.substr(f(t).root.length);const y=n.index,g=n.maxage||n.maxAge||0,v=n.immutable||!1,b=n.hidden||!1,x=!1!==n.format,w=!!Array.isArray(n.extensions)&&n.extensions,j=!1!==n.brotli,_=!1!==n.gzip,C=n.setHeaders;if(C&&"function"!=typeof C)throw new TypeError("option setHeaders must be function");if(-1===(t=function(e){try{return decodeURIComponent(e)}catch(e){return-1}}(t)))return e.throw(400,"failed to decode");y&&m&&(t+=y);if(t=o(h,t),!b&&function(e,t){t=t.substr(e.length).split(d);for(let e=0;e<t.length;e++)if("."===t[e][0])return!0;return!1}(h,t))return;let E,k="";"br"===e.acceptsEncodings("br","identity")&&j&&await s.exists(t+".br")?(t+=".br",e.set("Content-Encoding","br"),e.res.removeHeader("Content-Length"),k=".br"):"gzip"===e.acceptsEncodings("gzip","identity")&&_&&await s.exists(t+".gz")&&(t+=".gz",e.set("Content-Encoding","gzip"),e.res.removeHeader("Content-Length"),k=".gz");if(w&&!/\.[^/]*$/.exec(t)){const e=[].concat(w);for(let n=0;n<e.length;n++){let r=e[n];if("string"!=typeof r)throw new TypeError("option extensions must be array of strings or false");if(/^\./.exec(r)||(r="."+r),await s.exists(t+r)){t+=r;break}}}try{if(E=await s.stat(t),E.isDirectory()){if(!x||!y)return;t+="/"+y,E=await s.stat(t)}}catch(e){if(["ENOENT","ENAMETOOLONG","ENOTDIR"].includes(e.code))throw i(404,e);throw e.status=500,e}C&&C(e.res,t,E);e.set("Content-Length",E.size),e.response.get("Last-Modified")||e.set("Last-Modified",E.mtime.toUTCString());if(!e.response.get("Cache-Control")){const t=["max-age="+(g/1e3|0)];v&&t.push("immutable"),e.set("Cache-Control",t.join(","))}e.type||(e.type=($=t,S=k,l(""!==S?u($,S):$)));var $,S;return e.body=s.createReadStream(t),t}},JPst:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var o=[].concat(e[r]);n&&(o[2]?o[2]="".concat(n," and ").concat(o[2]):o[2]=n),t.push(o)}},t}},MGin:function(e,t){e.exports=require("react-router")},Q8e5:function(e,t,n){"use strict";
/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */var r={};function o(e){console.log("removeCsscss"),console.log(e),e.forEach((function(e){if(--r[e]<=0){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}}))}e.exports=function(e,t){for(var n,i=void 0===t?{}:t,a=i.replace,s=void 0!==a&&a,c=i.prepend,u=void 0!==c&&c,l=i.prefix,p=void 0===l?"s":l,f=[],d=0;d<e.length;d++){var h=e[d],m=h[0],y=h[1],g=h[2],v=h[3],b=""+p+m+"-"+d;if(f.push(b),!r[b]||s){r[b]=1;var x=document.getElementById(b),w=!1;console.log(b),console.log(x),x||(console.log("style 没有"),w=!0,(x=document.createElement("style")).setAttribute("type","text/css"),x.id=b,g&&x.setAttribute("media",g));var j=y;v&&"function"==typeof btoa&&(j+="\n/*# sourceMappingURL=data:application/json;base64,"+(n=JSON.stringify(v),btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)}))))+"*/",j+="\n/*# sourceURL="+v.file+"?"+b+"*/"),w&&("textContent"in x?(console.log("textContent in elem "),x.textContent=j):x.styleSheet.cssText=j,u?document.head.insertBefore(x,document.head.childNodes[0]):document.head.appendChild(x))}else r[b]++}return o.bind(null,f)}},Qs3B:function(e,t){e.exports=require("assert")},UJWO:function(e,t,n){"use strict";var r=n("cDcd");const o=n.n(r).a.createContext({});t.a=o},aZ3n:function(module,exports,__webpack_require__){var Promise=__webpack_require__("cjpT"),assert=__webpack_require__("Qs3B");function thenify($$__fn__$$,options){return assert("function"==typeof $$__fn__$$),eval(createWrapper($$__fn__$$.name,options))}function createCallback(e,t,n){return function(r,o){if(r)return t(r);var i=arguments.length;if(i<=2||!n)return e(o);if(Array.isArray(n)){for(var a={},s=1;s<i;s++)a[n[s-1]]=arguments[s];return e(a)}for(a=new Array(i-1),s=1;s<i;++s)a[s-1]=arguments[s];e(a)}}function createWrapper(e,t){e=(e||"").replace(/\s|bound(?!$)/g,"");var n=void 0===(t=t||{}).multiArgs||t.multiArgs;return"(function "+e+"() {\nvar self = this\nvar len = arguments.length\n"+(n="var multiArgs = "+JSON.stringify(n)+"\n")+(t.withCallback?'var lastType = typeof arguments[len - 1]\nif (lastType === "function") return $$__fn__$$.apply(self, arguments)\n':"")+"var args = new Array(len + 1)\nfor (var i = 0; i < len; ++i) args[i] = arguments[i]\nvar lastIndex = i\nreturn new Promise(function (resolve, reject) {\nargs[lastIndex] = createCallback(resolve, reject, multiArgs)\n$$__fn__$$.apply(self, args)\n})\n})"}module.exports=thenify,thenify.withCallback=function($$__fn__$$,options){return assert("function"==typeof $$__fn__$$),options=options||{},options.withCallback=!0,void 0===options.multiArgs&&(options.multiArgs=!0),eval(createWrapper($$__fn__$$.name,options))}},cDcd:function(e,t){e.exports=require("react")},cjpT:function(e,t){e.exports=require("any-promise")},cs0u:function(e,t,n){"use strict";const r=n("i4Cb")("koa-static"),{resolve:o}=n("oyvS"),i=n("Qs3B"),a=n("INAJ");e.exports=function(e,t){t=Object.assign({},t),i(e,"root directory is required to serve files"),r('static "%s" %j',e,t),t.root=o(e),!1!==t.index&&(t.index=t.index||"index.html");if(!t.defer)return async function(e,n){let r=!1;if("HEAD"===e.method||"GET"===e.method)try{r=await a(e,e.path,t)}catch(e){if(404!==e.status)throw e}r||await n()};return async function(e,n){if(await n(),("HEAD"===e.method||"GET"===e.method)&&null==e.body&&404===e.status)try{await a(e,e.path,t)}catch(e){if(404!==e.status)throw e}}}},hSzU:function(e,t){e.exports=require("path-is-absolute")},i4Cb:function(e,t){e.exports=require("debug")},iURj:function(e,t){e.exports=require("react-router-config")},iiSy:function(e,t,n){e.exports=function(){let e=["main.js","libs.js","common.js"],t=["main.css"],r=["libs.js","main.js"],o=[""];const i={js:[],css:[]};if(global.isProd()){const r=n("20ZA");e.forEach(e=>{r[e]&&i.js.push(`<script type="text/javascript"  src="${r[e]}"><\/script>`)}),t.forEach(e=>{r[e]&&i.css.push(`<link rel="stylesheet" type="text/css" href="${r[e]}">`)})}else r.forEach(e=>{i.js.push(`<script type="text/javascript"  src="//localhost:9002/${e}"><\/script>`)}),o.forEach(e=>{i.css.push(`<link rel="stylesheet" type="text/css" href="//localhost:9002/${e}" />`)});return i}},kEd6:function(e,t,n){"use strict";
/*!
 * resolve-path
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2018 Douglas Christopher Wilson
 * MIT Licensed
 */var r=n("4Hsq"),o=n("oyvS").join,i=n("oyvS").normalize,a=n("hSzU"),s=n("oyvS").resolve,c=n("oyvS").sep;e.exports=function(e,t){var n=t,l=e;1===arguments.length&&(n=e,l=process.cwd());if(null==l)throw new TypeError("argument rootPath is required");if("string"!=typeof l)throw new TypeError("argument rootPath must be a string");if(null==n)throw new TypeError("argument relativePath is required");if("string"!=typeof n)throw new TypeError("argument relativePath must be a string");if(-1!==n.indexOf("\0"))throw r(400,"Malicious Path");if(a.posix(n)||a.win32(n))throw r(400,"Malicious Path");if(u.test(i("."+c+n)))throw r(403);return i(o(s(l),n))};var u=/(?:^|[\\/])\.\.(?:[\\/]|$)/},lUbX:function(e,t){e.exports=require("isomorphic-style-loader/withStyles")},"mw/K":function(e,t){e.exports=require("fs")},oncg:function(e,t){e.exports=require("react-router-dom")},oyvS:function(e,t){e.exports=require("path")},pnsS:function(e,t,n){var r,o=n("cjpT");try{r=n("6ndv")}catch(e){r=n("mw/K")}var i=["appendFile","chmod","chown","close","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","open","read","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","write","writeFile"];"function"==typeof r.access&&i.push("access"),"function"==typeof r.copyFile&&i.push("copyFile"),"function"==typeof r.mkdtemp&&i.push("mkdtemp"),n("qRi8").withCallback(r,t,i),t.exists=function(e,t){return"function"==typeof t?r.stat(e,(function(e){t(null,!e)})):new o((function(t){r.stat(e,(function(e){t(!e)}))}))}},qRi8:function(e,t,n){var r=n("aZ3n");function o(e,t,n){return i(e,t,n,r)}function i(e,t,n,r){return t||(t={},n=Object.keys(e)),Array.isArray(t)&&(n=t,t={}),n||(n=Object.keys(e)),"function"==typeof e&&(t=r(e)),n.forEach((function(n){"function"==typeof e[n]&&(t[n]=r(e[n]))})),Object.keys(e).forEach((function(n){(function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(!n||!n.get)&&"deprecated"===n.get.name})(e,n)||t[n]||(t[n]=e[n])})),t}e.exports=o,o.withCallback=function(e,t,n){return i(e,t,n,r.withCallback)},o.thenify=r},vAnj:function(e,t){e.exports=require("koa2")},wLE8:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".search-page{font-size:18px}\n",""]),e.exports=t},zIXN:function(e,t){e.exports=require("react-helmet")}});