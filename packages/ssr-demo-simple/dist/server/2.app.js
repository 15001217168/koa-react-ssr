exports.ids=[2],exports.modules={26:function(t,e,a){"use strict";var i=a(0),s=a.n(i);let n=null;const o=()=>{n&&n.getInitialProps&&(console.log("popStateFn"),n.getInitialProps())};e.a=t=>(class extends s.a.Component{constructor(t){super(t),this.state={initialData:{},canClientFetch:!1}}static async getInitialProps(e){return t.getInitialProps?await t.getInitialProps(e):{}}async getInitialProps(){const{match:e,location:a}=this.props,i=t.getInitialProps?await t.getInitialProps({match:e,location:a}):{};this.setState({initialData:i,canClientFetch:!0}),console.log("getInitialProps");let{tdk:s}=i.page;s&&(document.title=s.title)}async componentDidMount(){window.__IS__SSR__&&(n=this,window.addEventListener("popstate",o));const t=this.props.history&&"PUSH"===this.props.history.action;console.log("canClientFetch",t),!t&&window.__IS__SSR__||await this.getInitialProps()}render(){const e={initialData:{},...this.props};return e.initialData=this.props.staticContext.initialData||{},s.a.createElement(t,e)}})},27:function(t,e,a){"use strict";e.a={apiHost:"http://mockssr.bigerfe.com"}},28:function(t,e,a){"use strict";a.r(e);var i=a(0),s=a.n(i),n=a(4),o=a(26),c=a(25),r=a.n(c),l=a(27);class p extends s.a.Component{constructor(t){super(t)}render(){const{list:t=[]}=this.props;return s.a.createElement("div",{className:"book-list"},t.map(t=>s.a.createElement("div",{key:t.id,className:"item"},s.a.createElement("p",{className:"img"}),s.a.createElement("div",{className:"right"},s.a.createElement("p",{className:"title"},s.a.createElement(n.Link,{to:"/detail/"+t.id},t.title)),s.a.createElement("p",{className:"des"},t.des)))))}}function d(t){console.log("props",t);const{fetchData:e}=t.initialData||{};return s.a.createElement("div",{className:"page-index-box"},s.a.createElement(p,{list:e}))}d.getInitialProps=async t=>{let e=await r.a.get(`${l.a.apiHost}/list`).then((function(t){return t.data})).catch((function(t){console.log(t)}));return{fetchData:0===e.code?e.data:[],page:{tdk:{title:"首页 - koa-react-ssr",keywords:"关键词 - koa-react-ssr",description:"描述"}}}};e.default=Object(o.a)(d)}};