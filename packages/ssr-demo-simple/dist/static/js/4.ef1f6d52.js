(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{46:function(t,n,e){"use strict";var r=e(48),f=e.n(r),a=e(44),h=e.n(a),i=e(45),d=e.n(i),o=e(8),w=e.n(o),s=e(9),v=e.n(s),c=e(10),b=e.n(c),u=e(11),k=e.n(u),p=e(12),y=e.n(p),l=e(0),m=e.n(l);function _(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,r)}return e}var g=null,I=!1,P=!1,O=function O(){g&&g.getInitialProps&&(I=!0,P&&g.getInitialProps())};n.a=function(l){return function(t){function e(t){var n;return w()(this,e),(n=b()(this,k()(e).call(this,t))).state={initialData:{},canClientFetch:!1},n}var n,r,a;return y()(e,t),v()(e,[{key:"getInitialProps",value:(a=d()(h.a.mark(function o(){var n,e,r,a,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props,e=n.match,r=n.location,l.getInitialProps)return t.next=4,l.getInitialProps({match:e,location:r});t.next=7;break;case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0={};case 8:a=t.t0,this.setState({initialData:a,canClientFetch:!0}),(i=a.page.tdk)&&(document.title=i.title);case 13:case"end":return t.stop()}},o,this)})),function i(){return a.apply(this,arguments)})},{key:"componentDidMount",value:(r=d()(h.a.mark(function s(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(P=!0,window.__IS__SSR__&&(g=this,window.addEventListener("popstate",O),I&&this.getInitialProps()),this.props.history&&"PUSH"===this.props.history.action||!window.__IS__SSR__)return t.next=7,this.getInitialProps();t.next=7;break;case 7:case"end":return t.stop()}},s,this)})),function c(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){P=I=!1}},{key:"render",value:function(){var t=function r(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?_(Object(e),!0).forEach(function(t){f()(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}({initialData:{}},this.props);return this.state.canClientFetch?t.initialData=this.state.initialData||{}:(t.initialData=window.__INITIAL_DATA__,window.__INITIAL_DATA__=null),m.a.createElement(l,t)}}],[{key:"getInitialProps",value:(n=d()(h.a.mark(function u(n){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.getInitialProps)return t.next=3,l.getInitialProps(n);t.next=6;break;case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={};case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}},u)})),function p(t){return n.apply(this,arguments)})}]),e}(m.a.Component)}},47:function(t,n,e){"use strict";n.a={apiHost:"http://mockssr.bigerfe.com"}},78:function(t,n,e){"use strict";e.r(n);var r=e(44),i=e.n(r),a=e(45),o=e.n(a),s=e(8),c=e.n(s),u=e(9),p=e.n(u),l=e(10),f=e.n(l),h=e(11),d=e.n(h),w=e(12),v=e.n(w),b=e(0),k=e.n(b),y=e(49),m=e.n(y),_=e(47),g=e(46),I=(e(41),function(t){function n(t){return c()(this,n),f()(this,d()(n).call(this,t))}var e;return v()(n,t),p()(n,[{key:"render",value:function(){var t=(this.props.initialData||{}).fetchData,n=((void 0===t?{}:t)||null).html;return n?k.a.createElement("div",{className:"detail-box",dangerouslySetInnerHTML:{__html:n}}):null}}],[{key:"getInitialProps",value:(e=o()(i.a.mark(function a(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=e.match.params.id,m.a.get("".concat(_.a.apiHost,"/detail/").concat(n)).then(function(t){return t.data})["catch"](function(t){});case 2:return r=t.sent,t.abrupt("return",{fetchData:r.data||{},page:{tdk:{title:"小册详情 - koa-react-ssr demo",keywords:"koa-react-ssr",description:"koa-react-ssr"}}});case 4:case"end":return t.stop()}var n},a)})),function r(t){return e.apply(this,arguments)})}]),n}(k.a.Component));n["default"]=Object(g.a)(I)}}]);